# Overview
Programming language constructs need to be translated to machine code by [[Translators]]

See also: [[Compilation Phases]]

# Virtual machine code
The code generated by a [[Virtual Machines|virtual machine]] usually consists of the following instruction types:
- Load/store
- Arithmetic
- Logical
- Conditional/unconditional jumps
- Call/return

Its state is usually:
- Storage: code, data
- Registers: program counter, stack pointer

# Stores
- Code store
	- Usually a fixed array of bytes
	- Holds instructions
- Data store
	- Usually a fixed array of words
	- Contains the stack for global and local data

## Registers
- Program counter:  points to the next instruction in the code store
- Stack pointer: points to the top of the stack
- Frame pointer: points to the base of the topmost frame
- Status: flag indicating whether the program is running, failed, or halted

# Constructs
## While
```kotlin
p = 1;
while (p < n)
	p = 10 * p;
```

Translates to:
```asm
0: LOADC 1
3: STOREG 2  # Load n
6: LOADG 2
9: LOADG 1   # Load p
12: COMPLT   # Compare p < n
13: JUMPF 29
16: LOADC 10  # While loop
19: LOADG 2
22: MULT
23: STOREG 2
26: JUMP 6
29: HALT
```
